syntax = "proto3";
option java_package = "goobly.grpc";
option objc_class_prefix = "GBLY";
option optimize_for = SPEED;
option cc_enable_arenas = true;
package goobly;

import "common.proto"



message ScanReply {
  // scans | gets
  repeated common.Entry entries = 3;
}
message ScanRequest {
  message Range {
    // a get is where the end key is not set or the same
    bytes key_start = 1;
    optional bytes key_end = 2;
    // if set. then start at key_start and up to this limit
    optional uint32 limit = 3;
  }
  repeated Range scan = 1;
}

message PutRequest {
  repeated common.Entry entry = 1;
}

message DeleteRequest {
  repeated bytes keys = 1;
}



service State {
  rpc scan(ScanRequest) returns (ScanReply);
  rpc put(PutRequest);
  rpc delete(DeleteRequest);
}
